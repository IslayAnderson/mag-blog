<?php
/**
* Template Name: Bookshelf
*
*/

$books = array(
    array(
        "title"     => "The Three Body Problem on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/20518872-the-three-body-problem",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "258",
        "spine_text"=> "The Three Body Problem",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1415428227i/20518872.jpg"
    ),
    array(
        "title"     => "Crime and Punishment on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/7144.Crime_and_Punishment",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "120",
        "spine_text"=> "Crime and Punishment",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1382846449i/7144.jpg"
    ),
    array(
        "title"     => "Slaughter-House Five on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/59737226-slaughter-house-five",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "60",
        "spine_text"=> "Slaughter-House Five",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1638390519i/59737226.jpg"
    ),
    array(
        "title"     => "The River of Consciousness on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/34128230-the-river-of-consciousness",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "170",
        "spine_text"=> "The River of Consciousness",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1498736082i/34128230.jpg"
    ),
    array(
        "title"     => "The Man Who Mistook His Wife for a Hat on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/63697.The_Man_Who_Mistook_His_Wife_for_a_Hat_and_Other_Clinical_Tales",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "220",
        "spine_text"=> "The Man Who Mistook His Wife for a Hat",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1447047702i/63697.jpg"
    ),
    array(
        "title"     => "The Left Hand of Darkness on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/18423.The_Left_Hand_of_Darkness",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "30",
        "spine_text"=> "The Left Hand of Darkness",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1488213612i/18423.jpg"
    ),
    array(
        "title"     => "Marx's Das Kapital: A Biography on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/833400.Marx_s_Das_Kapital",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "143",
        "spine_text"=> "Marx's Das Kapital: A Biography",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1334839201i/833400.jpg"
    ),
    array(
        "title"     => "Capital: A Critique of Political Economy, Volume 1 on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/325785.Capital",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "40",
        "spine_text"=> "Capital: Volume 1",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1718913375i/325785.jpg"
    ),
    array(
        "title"     => "The Transgender Issue: An Argument for Justice on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/56155135-the-transgender-issue?ref=nav_sb_ss_2_23",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "70",
        "spine_text"=> "The Transgender Issue",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1615729454i/56155135.jpg"
    ),
    array(
        "title"     => "The Verso Book of Dissent: Revolutionary Words from Three Millennia of Rebellion and Resistance on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/138791903-the-verso-book-of-dissent",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "160",
        "spine_text"=> "The Verso Book of Dissent",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1699737274i/138791903.jpg"
    ),
    array(
        "title"     => "Bad Pharma: How Drug Companies Mislead Doctors and Harm Patients on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/15795155-bad-pharma",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "35",
        "spine_text"=> "Bad Pharma",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1358558459i/15795155.jpg"
    ),
    array(
        "title"     => "1984 on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/61439040-1984",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "245",
        "spine_text"=> "1984",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1657781256i/61439040.jpg"
    ),
    array(
        "title"     => "Skeleton Crew on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/13440.Skeleton_Crew",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "75",
        "spine_text"=> "Skeleton Crew",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1660827280i/13440.jpg"
    ),
    array(
        "title"     => "A Game of Thrones on goodread.co.uk",
        "link"      => "https://www.goodreads.com/book/show/13496.A_Game_of_Thrones",
        "height"    => "30",
        "width"     => "10",
        "depth"     => "20",
        "hue"       => "173",
        "spine_text"=> "A Game of Thrones",
        "spine_img" => "",
        "cover_text"=> "",
        "cover_img" => "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1562726234i/13496.jpg"
    ),
);

?>
<?php get_header(); ?>
<div class="govuk-width-container">
	<?php if(!is_front_page()): ?>
	<a href="/" class="govuk-back-link">Back</a>
	<?php endif; ?>
	<main class="govuk-main-wrapper ">
		<div class="govuk-grid-row govuk-width-container">
			<div class="govuk-grid-column-full-width">
				<?php if (have_posts()) : while (have_posts()) : the_post(); ?>
				
				<article id="post-<?php the_ID(); ?>" <?php post_class( 'cf' ); ?> role="article">
					
					<h1 class="govuk-heading-l"><a href="<?php the_permalink() ?>" rel="bookmark" title="<?php the_title_attribute(); ?>"><?php the_title(); ?></a></h1>
					<div class="govuk-inset-text">
					<?php printf( __
							( 'Posted', 'gdstheme' ).' %1$s %2$s',
							'<time class="updated entry-time" datetime="' . get_the_time('Y-m-d') . '" itemprop="datePublished">' . get_the_time(get_option('date_format')) . '</time>',
							'<span class="by">'.__( 'by', 'gdstheme').'</span> <span class="entry-author author" itemprop="author" itemscope itemptype="http://schema.org/Person">' . get_the_author_link( get_the_author_meta( 'ID' ) ) . '</span>'
						); ?>	
					</div>
					<?php if(has_post_thumbnail()):?>
						<div class="featured">
							<?php the_post_thumbnail('large'); ?>
						</div>
					<?php endif; ?>
					<section>
                        <div style="width:100%;overflow-x:scroll;height: 40vh;z-index: 0;position: relative;padding-top: calc(15 * 1vmin);padding-left: 10px;">
                            <div class="shelf">
                            <div class="backdrop" style="
                                transform: translateZ(-20vmin);
                                background: #4f3931;
                                width: <?= count($books)*13 ?>vmin;
                                height: 40vh;
                                position: absolute;
                                background: url(https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fbgfons.com%2Fuploads%2Fcork%2Fcork_texture7026.jpg&f=1&nofb=1&ipt=0c6068b…&ipo=images);
                                background-size: contain;
                                filter: brightness(70%);
                                "></div>
                                <?php shuffle($books); foreach($books as $book){ ?>
                                <a href="<?= $book['link'] ?>" target="_blank" title="<?= $book['title'] ?>">
                                    <div class="book" style="--height: <?= $book['height']?>;--width: <?= $book['width'] ?>;--depth: <?= $book['depth'] ?>;--hue: <?= $book['hue'] ?>;">
                                        <div class="book__side" <? if(!empty($book['spine_img'])): ?> style="
                                            background:url(<?= $book['spine_img'] ?>); 
                                            background-size:cover;" <?php endif; ?> >
                                            <span><?= $book['spine_text'] ?></span>
                                        </div>
                                        <div class="book__side"></div>
                                        <div class="book__side" <? if(!empty($book['cover_img'])): ?> style="
                                            background:url(<?= $book['cover_img'] ?>); 
                                            background-size:cover;" <?php endif; ?> >
                                            <span><?= $book['cover_text'] ?></span>
                                        </div>
                                        <div class="book__side"></div>
                                        <div class="book__side"></div>
                                        <div class="book__side"></div>
                                    </div>
                                </a>

                                <?php } ?>
                                <div class="wood" style=" --height: 5; --width: <?= count($books)*13 ?>; --depth: 40; --hue: 10; position: absolute; top: 30vmin; z-index: 61; ">
                                    <div class="wood__side" style="
                                        background: url(https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fstatic1.bigstockphoto.com%2F7%2F6%2F1%2Flarge1500%2F167610269.jpg&f=1&nofb=1&ipt=4808a23…&ipo=images);
                                        background-size: cover;
                                    "></div>
                                    <div class="wood__side"></div>
                                    <div class="wood__side" style="
                                        background: url(https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fstatic1.bigstockphoto.com%2F7%2F6%2F1%2Flarge1500%2F167610269.jpg&f=1&nofb=1&ipt=4808a23…&ipo=images);
                                        background-size: cover;
                                    "></div>
                                    <div class="wood__side"></div>
                                    <div class="wood__side" style="
                                        background: url(https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fstatic1.bigstockphoto.com%2F7%2F6%2F1%2Flarge1500%2F167610269.jpg&f=1&nofb=1&ipt=4808a23…&ipo=images);
                                        background-size: cover;
                                        filter: brightness(80%);
                                    "></div>
                                    <div class="wood__side"></div>
                                </div>
                            </div>
                        </div>
                        
						<?php the_content(); ?>
					</section>

				</article>

				<?php endwhile; ?>

					<?php gdstheme_page_navi(); ?>

				<?php else : ?>

				<article id="post-not-found" class="govuk-grid-column-full">
					<?php gdstheme_error('Post not found'); ?>
				</article>

				<?php endif; ?>
			</div>
		</div>
	</main>
</div>

<?php get_footer(); ?>
